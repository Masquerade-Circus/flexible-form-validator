/**
 *  Flexible form validator in less than 3.5 kb and 1.5 kb gzipped.
 *  By Masquerade Circus
 *  christian@masquerade-circus.net
 *  https://github.com/Masquerade-Circus/flexible-form-validator
 */
!function(e){e.fn.FormValidator=function(r){var t=function(){},a=[]._,s=!1,n=!0,l=e.extend({error:t,success:t,validations:[],result:t,types:{email:/^([a-z0-9]{3,}[\.|\-|\_]?)+@([a-z0-9]{3,}[\.|\-|\_]?)+(\.[a-z]{2,7})$/g,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/g,date:/^\d{1,4}\W?\w{1,3}\W?\d{1,4}$/g,time:/^[am|pm]*\s*([0-2]?[0-9]):([0-5][0-9])\s*[am|pm]*$/gi,url:/^http[s]*\:\/\/[\w|\d|\\|-|\.]+\.(\w){2,7}(\S*)?$/g,number:/^\d+$/g,currency:/^(\$)?\s?(\d{1,3}(\,\d{3})*|\d+)(\.\d{2,})?$/g,tel:/^(\()?\d{3}(\))?-?\s?\d{3}-?\s?\d{4}$/g},lang:{thisField:"This field",required:"is required",match:"doesn't match the pattern",sameAs:"should be the same as",types:{email:"isn't a valid email",password:"must be at least 8 characters long and contain a number and an uppercase letter",date:"isn't a valid dd/mm/yyyy date",time:"isn't a valid time",url:"isn't a valid url",number:"must be only numbers",currency:"isn't a valid currency value",tel:"isn't a valid phone number"}},onBlur:s,onKeyup:s,onChange:s,onFocus:s,onSubmit:n},r);return function(){var r=e(this),t=this,n=function(r,i){var n=e.extend({selector:"",required:s,error:l.error,success:l.success,sameAs:s,match:s,name:a,matchError:a,requiredError:a,sameAsError:a},t.fields[i]),d=e(n.sameAs),u={name:n.name||l.lang.thisField,field:n},o=u.name+" ",m=n.element.val();if(n.element.length>0){if((1==n.required||"required"==n.required)&&(("radio"==n.type||"checkbox"==n.type)&&0==e(n.selector+":checked").length||null==m||m.length<=0))return u.attribute="required",u.msg=o+(n.requiredError||l.lang.required),n.error.call(n,u),r.push(u),r;if((1==n.required||"required"==n.required)&&(null==m||m.length<=0))return u.attribute="required",u.msg=o+(n.requiredError||l.lang.required),n.error.call(n,u),r.push(u),r;if(n.match!==s&&-1==m.search(n.match))return u.attribute="match",u.msg=o+(n.matchError||l.lang.match),n.error.call(n,u),r.push(u),r;if(d.length>0&&n.element.val()!=d.val())return u.attribute="sameAs",u.sameAs=t.fields[n.sameAs].name||n.sameAs,u.msg=o+(n.sameAsError||l.lang.sameAs+" "+u.sameAs),n.error.call(n,u),r.push(u),r;n.success.call(n)}return r};return t.fields={},t.validate=function(e){var r,s=[];if(e!=a)id=e.attr?e.attr("id"):e,s=n(s,"#"+id);else for(r in t.fields)s=n(s,r);return l.result(s),0===s.length},function(){r[0].hasAttribute("novalidate")||r.attr("novalidate","novalidate"),r.find("input, select, textarea").each(function(){var a=e(this),i="#"+(a.attr("id")||a.attr("id",a.attr("name")||(0|9e6*Math.random()).toString(36))&&a.attr("id")),n=a.data("type")||a.attr("type")||"text",d={selector:i,required:a.attr("required")||s,type:n,sameAs:a.data("sameas")||s,match:l.types[n]||s,name:a.attr("title")||a.siblings("label").text()||a.attr("placeholder")||" id: "+i,element:r.find(a),matchError:a.data("matcherror")||l.lang.types[n],requiredError:a.data("requirederror")||l.lang.required,sameAsError:a.data("sameaserror")||l.lang.sameAs},u=a.attr("pattern")||s;u!==s&&(d.match=u),t.fields[d.selector]=d,a.on("blur keyup change focus",function(e){"blur"==e.type&&l.onBlur&&t.validate(i.substr(1)),"keyup"==e.type&&l.onKeyup&&t.validate(i.substr(1)),"change"==e.type&&l.onChange&&t.validate(i.substr(1)),"focus"==e.type&&l.onFocus&&t.validate(i.substr(1))})});for(i in l.validations){var a=l.validations[i].element=r.find(l.validations[i].selector);if(l.validations[i].element.length>0){var n=l.validations[i].type||a.data("type")||a.attr("type")||"text";t.fields[l.validations[i].selector]=e.extend({required:a.attr("required")||s,sameAs:a.data("sameas")||s,match:l.types[n]||s,name:a.attr("title")||a.siblings("label").text()||a.attr("placeholder")||" id: "+id,matchError:a.data("matcherror")||l.lang.types[n],requiredError:a.data("requirederror")||l.lang.required,sameAsError:a.data("sameaserror")||l.lang.sameAs},l.validations[i])}}console.log(t.fields),l.onSubmit&&r.on("submit",function(){return t.validate()})}(),t}.call(this)}}(jQuery);
