!function(e){e.fn.FormValidator=function(a){var t=function(){},n=[]._,s=!1,o=!0,r=e.extend({error:t,success:t,validations:[],result:t,types:{email:/^([a-z0-9]{3,}[\.|-|_]?)+@([a-z0-9]{3,}[\.|-|_]?)+(\.[a-z]{2,7})$/g,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/g,date:/^\d{1,4}\W?\w{1,3}\W?\d{1,4}$/g,time:/^[am|pm]*\s*([0-2]?[0-9]):([0-5][0-9])\s*[am|pm]*$/gi,url:/^http[s]*\:\/\/[\w|\d|\\|-|\.]+\.(\w){2,7}(\S*)?$/g,number:/^\d+$/g,currency:/^(\$)?\s?(\d{1,3}(\,\d{3})*|\d+)(\.\d{2,})?$/g,tel:/^(\()?\d{3}(\))?-?\s?\d{3}-?\s?\d{4}$/g},lang:{thisField:"This field",required:"is required",match:"doesn't match the pattern",sameAs:"should be the same as",types:{email:"isn't a valid email",password:"must be at least 8 characters long and contain a number and an uppercase letter",date:"isn't a valid dd/mm/yyyy date",time:"isn't a valid time",url:"isn't a valid url",number:"must be only numbers",currency:"isn't a valid currency value",tel:"isn't a valid phone number"}},onBlur:s,onKeyup:s,onChange:s,onSubmit:o},a);return function(){var a=e(this),t=this,o=function(a,i){var o=e.extend({selector:"",required:s,error:r.error,success:r.success,sameAs:s,match:s,name:n,matchError:n,requiredError:n,sameAsError:n},t.fields[i]),l=e(o.sameAs),d={name:o.name||r.lang.thisField,field:o},c=d.name+" ",m=o.element.val();if(o.element.length>0){if((1==o.required||"required"==o.required)&&(null==m||m.length<=0))return d.attribute="required",d.msg=o.requiredError||c+r.lang.required,o.error.call(o,d),a.push(d),a;if(o.match!==s&&-1==m.search(o.match))return d.attribute="match",d.msg=o.matchError||c+r.lang.match,o.error.call(o,d),a.push(d),a;if(l.length>0&&o.element.val()!=l.val())return d.attribute="sameAs",d.sameAs=t.fields[o.sameAs].name||o.sameAs,d.msg=o.sameAsError||c+r.lang.sameAs+" "+d.sameAs,o.error.call(o,d),a.push(d),a;o.success.call(o)}return a};return t.fields={},t.validate=function(e){var a,i=[];if(e!=n)id=e.attr?e.attr("id"):e,i=o(i,"#"+id);else for(a in t.fields)i=o(i,a);return r.result(i),0===i.length},function(){a.find("input, select, textarea").each(function(){var n=e(this),i="#"+(n.attr("id")||n.attr("id",n.attr("name")||(0|9e6*Math.random()).toString(36))&&n.attr("id")),o=n.data("type")||n.attr("type")||"text",l={selector:i,required:n.attr("required")||s,sameAs:n.data("sameas")||s,match:r.types[o]||s,name:n.attr("title")||n.siblings("label").text()||n.attr("placeholder")||" id: "+i,element:a.find(n),matchError:n.data("matcherror")||r.lang.types[o],requiredError:n.data("requirederror"),sameAsError:n.data("sameaserror")},d=n.attr("pattern")||s;d!==s&&(l.match=d),t.fields[l.selector]=l,n.on("blur keyup change",function(e){"blur"==e.type&&r.onBlur&&t.validate(i.substr(1)),"keyup"==e.type&&r.onKeyup&&t.validate(i.substr(1)),"change"==e.type&&r.onChange&&t.validate(i.substr(1))})});for(i in r.validations)r.validations[i].element=a.find(r.validations[i].selector),r.validations[i].element.length>0&&(r.validations[i].type=r.validations[i].type||r.validations[i].element.data("type")||r.validations[i].element.attr("type")||"text",t.fields[r.validations[i].selector]=r.validations[i]);r.onSubmit&&a.on("submit",function(){return t.validate()})}(),t}.call(this)}}(jQuery);
